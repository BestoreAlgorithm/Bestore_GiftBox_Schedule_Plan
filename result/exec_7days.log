json数据所在的文件夹路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons
排产计划数据所在的文件夹路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons\ProducePlan.json
Bom主数据所在的文件夹路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons\Bom.json
产能主数据所在的文件夹路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons\Capacity.json
优先级主数据所在的文件夹路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons\Priority.json
日历主数据所在的文件路径： E:\BESTORE\Algorithm\GiftBoxSchedulePlan\ortools_v2\jsons\Calendar.json
df_last_produce:
    packingPlanId  packingPlanSerialNum  ... deliveryFactory  isLock
0        1000002                     1  ...           df3-1    True

[1 rows x 14 columns]
排产计划读取排产需求共有1行
提报间隔时间：
 -18--排产间隔时间：
 0
[1]: (lock)上一次的排产计划锁定数据：
   isLock       id   package bom     n warehouse  s_t o_t  num  t
0      1  2100009  11009460   2  2003      D303  -18   1  666  1
分装需求计划读取分装需求共有2行
(data_orders)需求提报计划锁定数据：
            id   package bom     n warehouse s_t o_t   num
0  10000028-2  11009460   2  2003      D303  -4   3  5600
1  10000019-2  11009460   2  3001      D303  -4   3  5000
[2]: (orders_f)需求提报计划锁定数据：
    isLock          id   package bom     n warehouse  s_t o_t   num    t
0       1     2100009  11009460   2  2003      D303  -18   1   666    1
1       0  10000028-2  11009460   2  2003      D303   -4   3  5600  NaN
2       0  10000019-2  11009460   2  3001      D303   -4   3  5000  NaN
[3]: (I_0)在库库存数据：
      sample warehouse      num
0  11007648      D303  50022.0
1  11008130      D303  23400.0
2  80007635      D303      9.0
3  11002799      D303    870.0
4  80008507      D303    910.0
排产计划读取到货信息共有139行
[4]: (arr)到货信息arr：  warehouse    sample       num   t
0      D303  11008139   33000.0  -8
1      D303  11008566  245120.0  -8
2      D303  11000401  119000.0  -8
3      D303  11007152   86928.0  -8
4      D303  11008968   45264.0  -8
(BOM)匹配到需求计划订单的BOM数据:       pack    sample  num
0  11009460  11000401  1.0
1  11009460  11000403  2.0
2  11009460  11007170  1.0
3  11009460  11008968  1.0
4  11009460  11009392  1.0
Calendar_df
:        dayOff packingFactoryCode
0  2022-09-01               D332
1  2022-08-24               D332
2  2022-09-05               D332
3  2022-09-07               D303
 Calendar_df.type
4
Capacity_date_df：
   warehouse line   package   num  hours           t
0       D332  102  11001267  3000      8  2022-09-02
1       D332  102  11001267  3000      8  2022-09-03
2       D332  102  11001267  3000      8  2022-09-04
3       D332  102  11001267  3000      8  2022-09-05
4       D332  102  11001267  3000      8  2022-09-06
5       D332  102  11001267  3000      8  2022-09-07
6       D332  102  11001267  3000      8  2022-09-08
7       D332  102  11000805   100      8  2022-09-02
8       D332  102  11000805   100      8  2022-09-03
9       D332  102  11000805   100      8  2022-09-04
10      D332  102  11000805   100      8  2022-09-05
11      D332  102  11000805   100      8  2022-09-06
12      D332  102  11000805   100      8  2022-09-07
13      D332  102  11000805   100      8  2022-09-08
14      D332  102  11010645  3000      8  2022-09-02
15      D332  102  11010645  3000      8  2022-09-03
16      D332  102  11010645  3000      8  2022-09-04
17      D332  102  11010645  3000      8  2022-09-05
18      D332  102  11010645  3000      8  2022-09-06
19      D332  102  11010645  3000      8  2022-09-07
Capacity_date_Calendar：
   warehouse line   package   num  hours           t  sup
0       D332  102  11001267  3000      8  2022-09-02  NaN
1       D332  102  11001267  3000      8  2022-09-03  NaN
2       D332  102  11001267  3000      8  2022-09-04  NaN
3       D332  102  11001267  3000      8  2022-09-05  1.0
4       D332  102  11001267  3000      8  2022-09-06  NaN
5       D332  102  11001267  3000      8  2022-09-07  NaN
6       D332  102  11001267  3000      8  2022-09-08  NaN
7       D332  102  11000805   100      8  2022-09-02  NaN
8       D332  102  11000805   100      8  2022-09-03  NaN
9       D332  102  11000805   100      8  2022-09-04  NaN
10      D332  102  11000805   100      8  2022-09-05  1.0
11      D332  102  11000805   100      8  2022-09-06  NaN
12      D332  102  11000805   100      8  2022-09-07  NaN
13      D332  102  11000805   100      8  2022-09-08  NaN
14      D332  102  11010645  3000      8  2022-09-02  NaN
15      D332  102  11010645  3000      8  2022-09-03  NaN
16      D332  102  11010645  3000      8  2022-09-04  NaN
17      D332  102  11010645  3000      8  2022-09-05  1.0
18      D332  102  11010645  3000      8  2022-09-06  NaN
19      D332  102  11010645  3000      8  2022-09-07  NaN
pc：
   warehouse line   package   num  hours  t
0       D332  102  11001267  3000      8  1
1       D332  102  11001267  3000      8  2
2       D332  102  11001267  3000      8  3
3       D332  102  11001267  3000      0  4
4       D332  102  11001267  3000      8  5
5       D332  102  11001267  3000      8  6
6       D332  102  11001267  3000      8  7
7       D332  102  11000805   100      8  1
8       D332  102  11000805   100      8  2
9       D332  102  11000805   100      8  3
10      D332  102  11000805   100      0  4
11      D332  102  11000805   100      8  5
12      D332  102  11000805   100      8  6
13      D332  102  11000805   100      8  7
14      D332  102  11010645  3000      8  1
15      D332  102  11010645  3000      8  2
16      D332  102  11010645  3000      8  3
17      D332  102  11010645  3000      0  4
18      D332  102  11010645  3000      8  5
19      D332  102  11010645  3000      8  6
(capacity)产能数据
  warehouse line   package   num  hours  t
0      D332  102  11001267  3000      8  1
1      D332  102  11001267  3000      8  2
2      D332  102  11001267  3000      8  3
3      D332  102  11001267  3000      0  4
4      D332  102  11001267  3000      8  5
(priority)优先级权重数据Empty DataFrame
Columns: [package, n, w]
Index: []
sub_df: 
 id      2100009
m      11009460
n          2003
k          D303
s_t         -18
o_t           1
Name: 0, dtype: object 
 Type: <class 'pandas.core.series.Series'> 
 index_m: 
 {'id': '2100009', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -18, 'o_t': 1}
sub_df: 
 id     10000028-2
m        11009460
n            2003
k            D303
s_t            -4
o_t             3
Name: 0, dtype: object 
 Type: <class 'pandas.core.series.Series'> 
 index_m: 
 {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3}
sub_df: 
 id     10000019-2
m        11009460
n            3001
k            D303
s_t            -4
o_t             3
Name: 0, dtype: object 
 Type: <class 'pandas.core.series.Series'> 
 index_m: 
 {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3}
index_m:
 {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 7},
 x1index: 
 dict_keys(['2100009', '10000028-2', '10000019-2']), 
 xindex: 
 dict_values([[{'id': '2100009', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -18, 'o_t': 1, 't': 1}], [{'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 1}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 2}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 3}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 4}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 5}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 6}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 7}], [{'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 1}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 2}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 3}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 4}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 5}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 6}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 7}]])
parameters are ready, time cost are: 0.2966115474700928s
i_d in p_id: 
 ['2100009', '10000028-2', '10000019-2'] 
 iterIndex: 
 {'2100009': [{'id': '2100009', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -18, 'o_t': 1, 't': 1}], '10000028-2': [{'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 1}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 2}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 3}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 4}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 5}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 6}, {'id': '10000028-2', 'm': '11009460', 'n': '2003', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 7}], '10000019-2': [{'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 1}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 2}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 3}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 4}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 5}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 6}, {'id': '10000019-2', 'm': '11009460', 'n': '3001', 'k': 'D303', 's_t': -4, 'o_t': 3, 't': 7}]}
Number of variables =15
x variables ={('2100009', '11009460', '2003', 'D303', -18, 1, 1): x21000091, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 1): x10000028-21, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 2): x10000028-22, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 3): x10000028-23, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 4): x10000028-24, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 5): x10000028-25, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 6): x10000028-26, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 7): x10000028-27, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 1): x10000019-21, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 2): x10000019-22, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 3): x10000019-23, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 4): x10000019-24, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 5): x10000019-25, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 6): x10000019-26, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 7): x10000019-27}
Number of variables invent = 120
Invent variables ={('D303', '11000401', 1): ID303110004011, ('D303', '11000401', 2): ID303110004012, ('D303', '11000401', 3): ID303110004013, ('D303', '11000401', 4): ID303110004014, ('D303', '11000401', 5): ID303110004015, ('D303', '11000401', 6): ID303110004016, ('D303', '11000401', 7): ID303110004017, ('D303', '11000403', 1): ID303110004031, ('D303', '11000403', 2): ID303110004032, ('D303', '11000403', 3): ID303110004033, ('D303', '11000403', 4): ID303110004034, ('D303', '11000403', 5): ID303110004035, ('D303', '11000403', 6): ID303110004036, ('D303', '11000403', 7): ID303110004037, ('D303', '11007170', 1): ID303110071701, ('D303', '11007170', 2): ID303110071702, ('D303', '11007170', 3): ID303110071703, ('D303', '11007170', 4): ID303110071704, ('D303', '11007170', 5): ID303110071705, ('D303', '11007170', 6): ID303110071706, ('D303', '11007170', 7): ID303110071707, ('D303', '11008968', 1): ID303110089681, ('D303', '11008968', 2): ID303110089682, ('D303', '11008968', 3): ID303110089683, ('D303', '11008968', 4): ID303110089684, ('D303', '11008968', 5): ID303110089685, ('D303', '11008968', 6): ID303110089686, ('D303', '11008968', 7): ID303110089687, ('D303', '11009392', 1): ID303110093921, ('D303', '11009392', 2): ID303110093922, ('D303', '11009392', 3): ID303110093923, ('D303', '11009392', 4): ID303110093924, ('D303', '11009392', 5): ID303110093925, ('D303', '11009392', 6): ID303110093926, ('D303', '11009392', 7): ID303110093927, ('D303', '11009398', 1): ID303110093981, ('D303', '11009398', 2): ID303110093982, ('D303', '11009398', 3): ID303110093983, ('D303', '11009398', 4): ID303110093984, ('D303', '11009398', 5): ID303110093985, ('D303', '11009398', 6): ID303110093986, ('D303', '11009398', 7): ID303110093987, ('D303', '11009401', 1): ID303110094011, ('D303', '11009401', 2): ID303110094012, ('D303', '11009401', 3): ID303110094013, ('D303', '11009401', 4): ID303110094014, ('D303', '11009401', 5): ID303110094015, ('D303', '11009401', 6): ID303110094016, ('D303', '11009401', 7): ID303110094017, ('D303', '11009402', 1): ID303110094021, ('D303', '11009402', 2): ID303110094022, ('D303', '11009402', 3): ID303110094023, ('D303', '11009402', 4): ID303110094024, ('D303', '11009402', 5): ID303110094025, ('D303', '11009402', 6): ID303110094026, ('D303', '11009402', 7): ID303110094027, ('D303', '11009405', 1): ID303110094051, ('D303', '11009405', 2): ID303110094052, ('D303', '11009405', 3): ID303110094053, ('D303', '11009405', 4): ID303110094054, ('D303', '11009405', 5): ID303110094055, ('D303', '11009405', 6): ID303110094056, ('D303', '11009405', 7): ID303110094057, ('D303', '11009417', 1): ID303110094171, ('D303', '11009417', 2): ID303110094172, ('D303', '11009417', 3): ID303110094173, ('D303', '11009417', 4): ID303110094174, ('D303', '11009417', 5): ID303110094175, ('D303', '11009417', 6): ID303110094176, ('D303', '11009417', 7): ID303110094177, ('D303', '11009419', 1): ID303110094191, ('D303', '11009419', 2): ID303110094192, ('D303', '11009419', 3): ID303110094193, ('D303', '11009419', 4): ID303110094194, ('D303', '11009419', 5): ID303110094195, ('D303', '11009419', 6): ID303110094196, ('D303', '11009419', 7): ID303110094197, ('D303', '11009420', 1): ID303110094201, ('D303', '11009420', 2): ID303110094202, ('D303', '11009420', 3): ID303110094203, ('D303', '11009420', 4): ID303110094204, ('D303', '11009420', 5): ID303110094205, ('D303', '11009420', 6): ID303110094206, ('D303', '11009420', 7): ID303110094207, ('D303', '11009525', 1): ID303110095251, ('D303', '11009525', 2): ID303110095252, ('D303', '11009525', 3): ID303110095253, ('D303', '11009525', 4): ID303110095254, ('D303', '11009525', 5): ID303110095255, ('D303', '11009525', 6): ID303110095256, ('D303', '11009525', 7): ID303110095257, ('D303', '80007520', 1): ID303800075201, ('D303', '80007520', 2): ID303800075202, ('D303', '80007520', 3): ID303800075203, ('D303', '80007520', 4): ID303800075204, ('D303', '80007520', 5): ID303800075205, ('D303', '80007520', 6): ID303800075206, ('D303', '80007520', 7): ID303800075207, ('D303', '80007530', 1): ID303800075301, ('D303', '80007530', 2): ID303800075302, ('D303', '80007530', 3): ID303800075303, ('D303', '80007530', 4): ID303800075304, ('D303', '80007530', 5): ID303800075305, ('D303', '80007530', 6): ID303800075306, ('D303', '80007530', 7): ID303800075307}
Number of variables x_1 = 123
x_1 variables ={('2100009', '11009460', '2003', 'D303', -18, 1): x_12100009, ('10000028-2', '11009460', '2003', 'D303', -4, 3): x_110000028-2, ('10000019-2', '11009460', '3001', 'D303', -4, 3): x_110000019-2}
Number of variables x_2 = 134
x_2 variables ={('2100009', '11009460', '2003', 'D303', -18, 1, 1): x_221000091, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 3): x_210000028-23, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 4): x_210000028-24, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 5): x_210000028-25, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 6): x_210000028-26, ('10000028-2', '11009460', '2003', 'D303', -4, 3, 7): x_210000028-27, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 3): x_210000019-23, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 4): x_210000019-24, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 5): x_210000019-25, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 6): x_210000019-26, ('10000019-2', '11009460', '3001', 'D303', -4, 3, 7): x_210000019-27}
 type: <class 'gurobipy.tupledict'>
x: ['2100009', '11009460', '2003', 'D303', -18, 1, 1]
 666
Objective function setting done ！
0
Optimizing...
Number of variables = 134
Number of constraints = 125
Optimal objective value = 2562675

Advanced usage:
Problem solved in 359.000000 milliseconds
Problem solved in 4 iterations
('2100009', '11009460', '2003', 'D303', -18, 1, 1) 666.0
('10000028-2', '11009460', '2003', 'D303', -4, 3, 4) 800.0
('10000028-2', '11009460', '2003', 'D303', -4, 3, 5) 730.0
('10000019-2', '11009460', '3001', 'D303', -4, 3, 1) 134.0
('10000019-2', '11009460', '3001', 'D303', -4, 3, 2) 800.0
('10000019-2', '11009460', '3001', 'D303', -4, 3, 3) 800.0
the result is be saved!
